import{m as u}from"./blueimp-md5-133dffcb-v4.1.3.js";import{t as c}from"./wysiwyg-7a946b6a-v4.1.3.js";import{d as h}from"./vuedraggable-1a30bdc7-v4.1.3.js";import{S as f}from"./vue2-selectize-50452acd-v4.1.3.js";import{f as p}from"./vue-flatpickr-component-3a8657f3-v4.1.3.js";import{C as d}from"./@melloware-f365a888-v4.1.3.js";import{n as m}from"./NProgress-195f2ba2-v4.1.3.js";import{t as g}from"./Toaster-0e61aeab-v4.1.3.js";const v={data(){return{isLeftColumnSectionDragging:!1,isRightColumnSectionDragging:!1,formLeftSections:[],formRightSections:[]}},computed:{storeFormSections(){return{get:t=>this.getSectionOrder(t.options.dataName),set:t=>this.setSectionOrder(t)}}},created(){this.formLeftSections=this.getSectionOrder("product-form-left-sections"),this.formRightSections=this.getSectionOrder("product-form-right-sections")},methods:{getDefaultSectionOrder(t){return{"product-form-left-sections":["attributes","downloads","variations","variants","options"],"product-form-right-sections":["price","inventory","media","seo","additional","linked_products"]}[t]},getSectionOrder(t){const i=JSON.parse(localStorage.getItem(t));return i===null?this.getDefaultSectionOrder(t):i},setSectionOrder(t){this.$nextTick(()=>{localStorage.setItem(t.options.dataName,JSON.stringify(t.toArray()))})},notifySectionOrderChange(){toaster(trans("product::products.section.order_saved"),{type:"default"}),this.$nextTick(()=>{this.initColorPicker()})}}},V={watch:{"form.attributes":{immediate:!0,handler(t){t.length===0&&this.addAttribute()}}},methods:{prepareAttributes(t){t.forEach(i=>{this.$set(i,"uid",this.uid())})},getAttributeValuesById(t){let i=null,e=!1;if(t!=="")return Object.values(FleetCart.data["attribute-sets"]).some(s=>{if(s.attributes.some(a=>{if(a.id===t)return e=!0,i=a.values,!0}),e)return!0}),i},focusAttributeValueField(t){this.$refs.attributeValues[t].$el.selectize.focus()},addAttribute(){this.form.attributes.push({attribute_id:"",uid:this.uid(),values:[]})},deleteAttribute(t,i){this.form.attributes.splice(t,1),this.clearErrors({name:"attributes",uid:i})}}},E={data(){return{globalVariationId:"",addingGlobalVariation:!1,variations:[]}},computed:{isAddGlobalVariationDisabled(){return this.globalVariationId===""||this.addingGlobalVariation},isCollapsedVariationsAccordion(){return this.form.variations.every(({is_open:t})=>t===!1)}},watch:{"form.variations":{immediate:!0,handler(t){t.length===0&&this.addVariation({preventFocus:!0})}}},mounted(){this.initColorPicker(),this.hideColorPicker()},methods:{prepareVariations(t){t.forEach(i=>{this.$set(i,"is_open",!1)})},regenerateVariationsUid(){this.form.variations.forEach(t=>{this.$set(t,"uid",this.uid()),t.values.forEach((i,e)=>{this.$set(t.values[e],"uid",this.uid())})})},reorderVariations(){this.generateVariants(),this.notifyVariantsReordered()},reorderVariationValues(){this.generateVariants(!0)},addVariation({preventFocus:t}){const i=this.uid();this.form.variations.push({uid:i,type:"",is_global:!1,is_open:!0,values:[{uid:this.uid(),image:{id:null,path:null}}]}),t||this.focusField({selector:`#variations-${i}-name`})},deleteVariation(t,i){this.form.variations.splice(t,1),this.clearErrors({name:"variations",uid:i}),this.generateVariants()},changeVariationType(t,i,e){const s=this.form.variations[i];t!==""&&s.values.length===1&&this.focusField({selector:`#variations-${e}-values-${s.values[0].uid}-label`}),t==="text"?s.values.forEach(a=>{this.errors.clear([`variations.${e}.values.${a.uid}.color`,`variations.${e}.values.${a.uid}.image`])}):t==="color"?(s.values.forEach(a=>{this.errors.clear(`variations.${e}.values.${a.uid}.image`)}),this.$nextTick(()=>{this.initColorPicker()})):t==="image"?(s.values.forEach((a,r)=>{a.image||this.$set(s.values[r],"image",{id:null,path:null})}),s.values.forEach(a=>{this.errors.clear(`variations.${e}.values.${a.uid}.color`)})):this.clearValuesError(i,e)},chooseVariationImage(t,i,e,s){new MediaPicker({type:"image"}).on("select",({id:r,path:n})=>{this.form.variations[t].values[e].image={id:+r,path:n},this.errors.clear(`variations.${i}.values.${s}.image`)})},addVariationRow(t,i){const e=this.uid();this.form.variations[t].values.push({uid:e,image:{id:null,path:null}}),this.$nextTick(()=>{this.initColorPicker(),$(`#variations-${i}-values-${e}-label`).trigger("focus")})},addVariationRowOnPressEnter(t,i,e){const s=this.form.variations[i],a=s.values;if(t.target.value!==""){if(a.length-1===e){this.addVariationRow(i,s.uid);return}e<a.length-1&&$(`#variations-${s.uid}-values-${a[e+1].uid}-label`).trigger("focus")}},deleteVariationRow(t,i,e,s){const a=this.form.variations[t];a.values.splice(e,1),this.clearValueRowErrors({name:"variations",variationUid:i,valueUid:s}),a.values.length===0&&this.addVariationRow(t,i),this.generateVariants()},updateColorThumbnails(){this.form.variations.forEach(({uid:t,type:i,values:e})=>{if(i!=="color")return;const s=document.querySelectorAll(`.variation-${t} .clr-field`);e.forEach(({color:a},r)=>{s[r].style.color=a||""})})},initColorPicker(){d.init(),d({el:".color-picker",alpha:!1,rtl:FleetCart.rtl,theme:"large",wrap:!0,format:"hex",selectInput:!0,swatches:["#D01C1F","#3AA845","#118257","#0A33AE","#0D46A0","#000000","#5F4C3A","#726E6E","#F6D100","#C0E506","#FF540A","#C5A996","#4B80BE","#A1C3DA","#C8BFC2","#A9A270"]})},hideColorPicker(){$(document).on("click","#clr-swatches button",t=>{$(t.currentTarget).parents("#clr-picker").removeClass("clr-open")})},addGlobalVariation(){this.globalVariationId!==""&&(this.addingGlobalVariation=!0,$.ajax({type:"GET",url:route("admin.variations.show",this.globalVariationId),dataType:"json",success:t=>{t.uid=this.uid(),t.is_open=!0,t.values.forEach(i=>{i.uid=this.uid()}),this.form.variations.push(t),this.generateVariants(),this.$nextTick(()=>{$(`#variations-${t.uid}-name`).trigger("focus")})}}).catch(t=>{toaster(t.responseJSON.message,{type:"error"})}).always(()=>{this.globalVariationId="",this.addingGlobalVariation=!1}))}}},b={data(){return{defaultVariantUid:"",variantPosition:0,variantsLength:0}},computed:{hasAnyVariant(){return this.form.variants.length!==0},isCollapsedVariantsAccordion(){return this.form.variants.every(({is_open:t})=>t===!1)}},methods:{prepareVariants(t){t.forEach(i=>{this.$set(i,"position",this.variantPosition++),this.$set(i,"is_open",!1),this.$set(i,"is_selected",!1)})},changeDefaultVariant(t){const i=this.form.variants,e=i.findIndex(s=>s.uid===t);if(i[e].is_active===!0){this.resetDefaultVariant(),this.defaultVariantUid=i[e].uid,this.$set(i[e],"is_default",!0);return}this.defaultVariantUid=this.defaultVariantUid},setDefaultVariant(){const t=this.form.variants,i=t.findIndex(({uid:s})=>s===this.defaultVariantUid);this.resetDefaultVariant();const e=t[i===-1?0:i];this.defaultVariantUid=e.uid,this.$set(e,"is_default",!0),i===-1&&(this.defaultVariantUid=t[0].uid,this.$set(t[0],"is_active",!0))},isActiveVariant(t){return this.form.variants[t].is_active},changeVariantStatus(t){if(this.defaultVariantUid===t){toaster(trans("product::products.variants.disable_default_variant"),{type:"default"});return}this.clearErrors({name:"variants",uid:t})},resetDefaultVariant(){this.form.variants.some(t=>{if(t.is_default===!0)return this.$set(t,"is_default",!1),!0})},getFilteredVariations(){return this.form.variations.map(({type:t,values:i})=>i.map(({uid:e,label:s})=>{if(t!==""&&s)return{uid:e,label:s}}).filter(Boolean)).filter(t=>t.length!==0)},generateNewVariants(t){return t.reduce((i,e)=>i.flatMap(s=>e.map(a=>({uid:s.uid+"."+a.uid,label:s.label+" / "+a.label})))).map(({uid:i,label:e})=>({uids:i.split(".").sort().join("."),name:e}))},isEqualVariants(t,i){return t.map(({uids:e})=>e).toString()===i.map(({uids:e})=>e).toString()},generateVariants(t){this.$nextTick(()=>{this.initColorPicker(),this.updateColorThumbnails()});const i=this.getFilteredVariations();if(i.length===0){this.form.variants=[],this.variantsLength=0;return}const e=this.generateNewVariants(i),s=this.form.variants.map(({uids:a})=>({uids:a}));t===!0&&this.isEqualVariants(e,s)||(t===!0&&this.notifyVariantsReordered(),e.length>this.variantsLength?this.addVariants(e,s):e.length<this.variantsLength?this.removeVariants(e,s):e.length===this.variantsLength&&this.reorderVariants(e,s),this.variantsLength=e.length,this.setDefaultVariant())},addVariants(t,i){if(this.notifyVariantsCreated(t.length),i.length===0){t.forEach(s=>{this.form.variants.push(this.variantDefaultData(s))});return}if(this.hasCommonVariantUids(t,i)){const s=i.map(({uids:a})=>a);t.forEach((a,r)=>{s.includes(a.uids)||this.form.variants.splice(r,0,this.variantDefaultData(a))});return}const e=[];i.forEach(({uids:s})=>{t.forEach((a,r)=>{const n=s.split(".").every(o=>a.uids.split(".").includes(o));if(n&&!e.includes(s)){e.push(s),this.setVariantData(a,r);return}n&&this.form.variants.splice(r,0,this.variantDefaultData(a))})})},removeVariants(t,i){if(this.resetBulkEditVariantFields(),this.notifyVariantsRemoved(i.length-t.length),this.hasCommonVariantUids(t,i)){const s=t.map(({uids:a})=>a);i.forEach(({uids:a})=>{if(!s.includes(a)){const r=this.form.variants.findIndex(n=>n.uids===a);this.clearErrors({name:"variants",uid:this.form.variants[r].uid}),this.form.variants.splice(r,1)}});return}const e=[];t.forEach(({uids:s,name:a})=>{i.forEach(r=>{const n=this.form.variants.findIndex(l=>l.uids===r.uids),o=s.split(".").every(l=>r.uids.split(".").includes(l));if(o&&!e.includes(s)){e.push(s),this.setVariantData({uids:s,name:a},n);return}o&&(this.clearErrors({name:"variants",uid:this.form.variants[n].uid}),this.form.variants.splice(n,1))})})},reorderVariants(t,i){const e=t.map(({uids:s})=>s);if(this.hasCommonVariantUids(t,i)){i.forEach(({uids:s})=>{const a=e.indexOf(s),r=this.form.variants.findIndex(n=>n.uids===s);this.setVariantData({name:t[a].name},r),this.form.variants[r]=this.form.variants.splice(a,1,this.form.variants[r])[0]});return}t.forEach((s,a)=>{this.setVariantData(s,a)})},hasCommonVariantUids(t,i){return i.some(({uids:e})=>t.map(({uids:s})=>s).includes(e))},setVariantData({uids:t,name:i},e){t!==void 0&&(this.$set(this.form.variants[e],"uid",md5(t)),this.$set(this.form.variants[e],"uids",t)),this.$set(this.form.variants[e],"name",i)},variantDefaultData({uids:t,name:i}){return{position:this.variantPosition++,uid:md5(t),uids:t,name:i,media:[],is_active:!0,is_open:!1,is_default:!1,is_selected:!1,special_price_type:"fixed",manage_stock:0,in_stock:1}},resetVariants(){this.form.variants=[]},addVariantMedia(t){new MediaPicker({type:"image",multiple:!0}).on("select",({id:e,path:s})=>{this.form.variants[t].media.push({id:+e,path:s})})},removeVariantMedia(t,i){this.form.variants[t].media.splice(i,1)},notifyVariantChanges({count:t,status:i}){toaster(trans(`product::products.variants.variants_${i}`,{count:t,suffix:trans(`product::products.variants.${t>1?"variants":"variant"}`)}).toLowerCase(),{type:"default"})},notifyVariantsCreated(t){this.notifyVariantChanges({count:t,status:"created"})},notifyVariantsRemoved(t){this.notifyVariantChanges({count:t,status:"removed"})},notifyVariantsReordered(){toaster(trans("product::products.variants.variants_reordered"),{type:"default"})}}},k={data(){return{bulkEditVariantsUid:"",bulkEditVariantsField:"",bulkEditVariants:{}}},computed:{hasBulkEditVariantsUid(){return this.bulkEditVariantsUid!==""},hasBulkEditVariantsField(){return this.bulkEditVariantsField!==""}},methods:{changeBulkEditVariantsUid(t){if(this.resetVariantsSelection(),t===""){this.resetBulkEditVariantsField();return}this.selectVariants(t)},selectVariants(t){if(this.resetVariantsSelection(),t!==""){if(t!=="all"){this.selectSpecificVariants(t);return}this.selectAllVariants()}},selectAllVariants(){this.form.variants.forEach(t=>{this.$set(t,"is_selected",!0)})},selectSpecificVariants(t){this.form.variants.forEach(i=>{i.uids.includes(t)&&this.$set(i,"is_selected",!0)})},changeBulkEditVariantsField(t){["sku","price","special_price"].includes(t)&&this.focusField({selector:`#bulk-edit-variants-${t.replace(/_/g,"-")}`}),this.resetBulkEditVariants()},addBulkEditVariantsMedia(){new MediaPicker({type:"image",multiple:!0}).on("select",({id:i,path:e})=>{this.bulkEditVariants.media.push({id:+i,path:e})})},removeBulkEditVariantsMedia(t){this.bulkEditVariants.media.splice(t,1)},bulkEditvariantsDefaultData(){return{is_active:!0,media:[],price:null,special_price:null,special_price_type:"fixed",special_price_start:null,special_price_end:null,manage_stock:0,qty:null,in_stock:1}},resetBulkEditVariantFields(){this.bulkEditVariantsUid="",this.resetVariantsSelection(),this.resetBulkEditVariantsField()},resetBulkEditVariantsField(){this.bulkEditVariantsField="",this.resetBulkEditVariants()},resetBulkEditVariants(){this.bulkEditVariants={...this.bulkEditvariantsDefaultData()}},resetVariantsSelection(){this.form.variants.forEach(t=>{this.$set(t,"is_selected",!1)})},clearVariantsSpecialPriceErrors(t){Object.keys(this.errors).forEach(i=>{i.startsWith(`variants.${t}`)&&i.includes("special_price")&&this.errors.clear(i)})},updateVariantsField(t,{key:i,value:e}){this.$set(t,i,e),this.errors.clear(`variants.${t.uid}.${i}`)},updateVariantsStatus(t,{key:i,value:e}){t.is_default!==!0&&(this.$set(t,i,e),this.errors.clear(`variants.${t.uid}.${i}`))},updateVariantsSpecialPrice(t,{key:i,value:e},{special_price_type:s,special_price_start:a,special_price_end:r}){this.$set(t,i,e),this.$set(t,"special_price_type",s),this.$set(t,"special_price_start",a),this.$set(t,"special_price_end",r),this.clearVariantsSpecialPriceErrors(t.uid)},updateVariantsManageStock(t,{key:i,value:e},{qty:s}){this.$set(t,i,e),this.$set(t,"qty",s),this.errors.clear([`variants.${t.uid}.${i}`,`variants.${t.uid}.qty`])},callUpdateVariantsMethodByField(t){return{media:this.updateVariantsField,sku:this.updateVariantsField,is_active:this.updateVariantsStatus,price:this.updateVariantsField,special_price:this.updateVariantsSpecialPrice,manage_stock:this.updateVariantsManageStock,in_stock:this.updateVariantsField}[t]},updateVariants(t){this.form.variants.forEach(i=>{i.is_selected&&this.callUpdateVariantsMethodByField(t.key)(i,t,this.bulkEditVariants)})},bulkUpdateVariants(){if(!this.hasBulkEditVariantsUid&&!this.hasBulkEditVariantsField)return;const t={key:this.bulkEditVariantsField,value:this.bulkEditVariants[this.bulkEditVariantsField]};this.updateVariants(t),this.resetBulkEditVariantFields(),toaster(trans("product::products.variants.bulk_variants_updated"),{type:"default"})}}},y={data(){return{globalOptionId:"",addingGlobalOption:!1}},computed:{isAddGlobalOptionDisabled(){return this.globalOptionId===""||this.addingGlobalOption},isCollapsedOptionsAccordion(){return this.form.options.every(({is_open:t})=>t===!1)}},watch:{"form.options":{immediate:!0,handler(t){t.length===0&&this.addOption({preventFocus:!0})}}},methods:{prepareOptions(t){t.forEach(i=>{this.$set(i,"uid",this.uid()),this.$set(i,"is_open",!1),i.values.forEach((e,s)=>{this.$set(i.values[s],"uid",this.uid())})})},addOption({preventFocus:t}){const i=this.form.options,e=this.uid();i.push({uid:e,type:"",is_open:!0,is_global:!1,is_required:!1,values:[{uid:this.uid(),price_type:"fixed"}]}),t||this.focusField({selector:`#options-${e}-name`})},deleteOption(t,i){this.form.options.splice(t,1),this.clearErrors({name:"options",uid:i})},changeOptionType(t,i){let e=this.form.options[t];const s=this.isOptionTypeText(e)?"price":"label";this.clearValuesError({name:"options",uid:i}),e.values.length===1&&this.focusField({selector:`#options-${i}-values-${e.values[0].uid}-${s}`})},isOptionTypeText(t){return["field","textarea","date","date_time","time"].includes(t.type)?(t.values.length>1&&t.values.splice(1),!0):!1},isOptionTypeSelect({type:t}){return!!["dropdown","checkbox","checkbox_custom","radio","radio_custom","multiple_select"].includes(t)},addOptionRow(t,i){const e=this.uid();this.form.options[t].values.push({uid:e,price_type:"fixed"}),this.focusField({selector:`#options-${i}-values-${e}-label`})},addOptionRowOnPressEnter(t,i,e){const s=this.form.options[i],a=s.values;if(t.target.value!==""){if(a.length-1===e){this.addOptionRow(i,s.uid);return}e<a.length-1&&$(`#options-${s.uid}-values-${a[e+1].uid}-label`).trigger("focus")}},deleteOptionRow(t,i,e,s){const a=this.form.options[t];a.values.splice(e,1),this.clearValueRowErrors({name:"options",optionUid:i,valueUid:s}),a.values.length===0&&this.addOptionRow(t,i)},addGlobalOption(){this.globalOptionId!==""&&(this.addingGlobalOption=!0,$.ajax({type:"GET",url:route("admin.options.show",this.globalOptionId),dataType:"json",success:t=>{t.uid=this.uid(),t.is_open=!0,t.values.forEach(i=>{i.uid=this.uid()}),this.form.options.push(t),this.$nextTick(()=>{$(`#options-${t.uid}-name`).trigger("focus")}),toaster(trans("product::products.options.option_inserted"),{type:"default"})}}).catch(t=>{toaster(t.responseJSON.message,{type:"error"})}).always(()=>{this.globalOptionId="",this.addingGlobalOption=!1}))}}},S={watch:{"form.downloads":{immediate:!0,handler(t){t.length===0&&this.addDownload({preventMediaPicker:!0})}}},methods:{addDownload({preventMediaPicker:t}){const i=this.form.downloads;i.push({id:null,filename:null}),t||this.chooseDownloadableFile(i.length-1)},deleteDownload(t){this.form.downloads.splice(t,1)},chooseDownloadableFile(t){new MediaPicker().on("select",({id:e,filename:s})=>{this.form.downloads.splice(t,1,{id:e,filename:s})})}}},O={methods:{transformMedia(t){t.media=t.media.map(i=>i.id)},transformAttributes(t){t.attributes=t.attributes.filter(({attribute_id:i})=>i!=="").reduce((i,{attribute_id:e,uid:s,values:a})=>({...i,[s]:{attribute_id:e,values:a}}),{})},transformDownloads(t){t.downloads=t.downloads.filter(({id:i})=>i!==null).map(({id:i})=>i)},transformVariations(t){const i={text:["id","uid","label"],color:["id","uid","label","color"],image:["id","uid","label","image"]};t.variations=t.variations.filter(({name:e,type:s})=>!!e||s!=="").reduce((e,s)=>(s.type===""?s.values=[]:s.values=s.values.reduce((a,r)=>(r=_.pick(r,i[s.type]),s.type==="image"&&(r.image=r.image.id),{...a,[r.uid]:r}),{}),{...e,[s.uid]:s}),{})},transformVariants(t){t.variants=t.variants.reduce((i,e)=>(e.media=e.media.map(({id:s})=>s),{...i,[e.uid]:e}),{})},transformOptions(t){const i={text:["id","uid","price","price_type"],select:["id","uid","label","price","price_type"]};t.options=t.options.filter(({name:e,type:s})=>!!e||s!=="").reduce((e,s)=>(s.type===""?s.values=[]:s.values=s.values.reduce((a,r)=>{const n=this.isOptionTypeText(s)?"text":"select";return r=_.pick(r,i[n]),{...a,[r.uid]:r}},{}),{...e,[s.uid]:s}),{})},transformData(t){let i=JSON.parse(JSON.stringify(t));return this.hasAnyVariant&&(i=Object.assign({},i,{price:null,special_price:null,special_price_type:"fixed",special_price_start:null,special_price_end:null,sku:null,manage_stock:0,qty:null,in_stock:1})),this.transformMedia(i),this.transformAttributes(i),this.transformDownloads(i),this.transformVariations(i),this.transformVariants(i),this.transformOptions(i),i}}};window.md5=u;window.toaster=g;const P={components:{draggable:h,Selectize:f,flatPickr:p},mixins:[v,V,E,b,k,y,S,O],data(){return{textEditor:null}},mounted(){m(),this.textEditor=c({setup:t=>{t.on("change",()=>{t.save(),t.getElement().dispatchEvent(new Event("input")),this.errors.clear("description")})}})},methods:{uid(){return Math.random().toString(36).slice(3)},focusEditor(){this.textEditor.get("description").focus()},focusField({selector:t,key:i}){i!==void 0&&this.errors.clear(i),this.$nextTick(()=>{$(`${t}`).trigger("focus")})},removeDatePickerValue(t){this.form[t]=null},removeVariantDatePickerValue(t,i){this.form.variants[t][i]=null},regenerateVariationsAndVariantsUid(){this.regenerateVariationsUid();const t=this.getFilteredVariations();this.generateNewVariants(t).forEach(({uids:e},s)=>{this.$set(this.form.variants[s],"uid",u(e)),this.$set(this.form.variants[s],"uids",e)})},hasAnyError({name:t,uid:i}){return Object.keys(this.errors.errors).some(e=>e.startsWith(`${t}.${i}`))},clearErrors({name:t,uid:i}){this.clearMatchedErrors(`${t}.${i}`)},clearValuesError({name:t,uid:i}){this.clearMatchedErrors(`${t}.${i}.values`)},clearValueRowErrors({name:t,uid:i,valueUid:e}){this.clearMatchedErrors(`${t}.${i}.values.${e}`)},clearMatchedErrors(t){Object.keys(this.errors.errors).forEach(i=>{i.startsWith(t)&&this.errors.clear(i)})},focusFirstErrorField(t){this.$nextTick(()=>{[...t].find(i=>i.name===Object.keys(this.errors.errors)[0]).focus()})},addMedia(){new MediaPicker({type:"image",multiple:!0}).on("select",({id:i,path:e})=>{this.form.media.push({id:+i,path:e})})},removeMedia(t){this.form.media.splice(t,1)},preventLastSlideDrag(t){return t.related.className.indexOf("disabled")===-1},toggleAccordions({selector:t,state:i,data:e}){const s=new Event("click"),a=document.querySelectorAll(t);if(!i){e.forEach(({is_open:r},n)=>{r&&a[n].dispatchEvent(s)});return}[...a].forEach(r=>{r.dispatchEvent(s)})},toggleAccordion(t,i){const e=$(t.currentTarget),s=e.find('[data-toggle="collapse"]'),a=e.next();i.is_open&&a.css("display","block"),s.attr("data-transition",!0),this.$set(i,"is_open",!i.is_open),a.slideToggle(300,()=>{s.attr("data-transition",!1),a.removeAttr("style")})},setSearchableSelectizeConfig(){this.searchableSelectizeConfig={valueField:"id",labelField:"name",searchField:"name",load:function(t,i){var e=route("admin.products.index");if(e===void 0||t.length===0)return i();$.get(e+"?query="+t,i,"json")},plugins:["remove_button"]}},setCategoriesSelectizeConfig(){this.categoriesSelectizeConfig={plugins:["remove_button"],delimiter:",",persist:!0,selectOnTab:!0,hideSelected:!1,allowEmptyOption:!0,onItemAdd(t){this.getItem(t)[0].innerHTML=this.getItem(t)[0].innerHTML.replace(/¦––\s/g,"")}}}}};export{P};
